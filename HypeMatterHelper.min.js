/*
 Hype Matter Helper 1.0.1
copyright (c) 2021 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeMatterHelper"in window&&(window.HypeMatterHelper=function(){function m(b,k){console.log("Hype Matter Helper: The element ("+b.id+") must have "+(k?"dynamic":"static")+" Physics enabled",b)}var q=!1;!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(b,k,t){b.resolveTargetToNodeList=function(a,c,e){e=e||document.getElementById(b.currentSceneId());NodeList.prototype.isPrototypeOf(a)?a=c?a[0]:a:Node.prototype.isPrototypeOf(a)?
a=c?a:[a]:"string"==typeof a?(e=e||document,a=c?e.querySelector(a):e.querySelectorAll(a)):a=void 0;return a};b.addClassToTarget=function(a,c){b.resolveTargetToNodeList(a).forEach(function(e){e.classList.add(c)})};b.removeClassFromTarget=function(a,c,e){b.resolveTargetToNodeList(a).forEach(function(d){d.classList.remove(c);e&&d.querySelectorAll("."+c).forEach(function(f){f.classList.remove(c)})})};b.disablePointerEvents=function(a){b.addClassToTarget(a,"disable-pointer-events")};b.enablePointerEvents=
function(a){b.removeClassFromTarget(a,"disable-pointer-events",!0)};b.queryIntersectionsByPoint=function(a,c){var e=[];b.resolveTargetToNodeList(a).forEach(function(f){var g=b.getElementProperty(f,"physics-body");g?e.push(g):m(f)});var d=Matter.Query.point(e,c);return d.length?d.map(function(f){return document.getElementById(f.elementId)}):[]};b.queryIntersections=function(a,c){var e=b.resolveTargetToNodeList(a,!0);if(0!=e.offsetHeight){var d=b.resolveTargetToNodeList(c),f=b.getElementProperty(e,
"physics-body");if(f){var g=[];d.forEach(function(h){if(0!=h.offsetHeight){var p=b.getElementProperty(h,"physics-body");p?g.push(p):m(h)}});d=Matter.Query.collides(f,g);if(d.length)return d.map(function(h){return document.getElementById((e.id==h.bodyB.elementId?h.bodyA:h.bodyB).elementId)})}else m(e);return[]}};b.queryIntersectionsByRay=function(a,c,e,d){a=b.resolveTargetToNodeList(a);var f=[];d=d||1;a.forEach(function(g){var h=b.getElementProperty(g,"physics-body");h?f.push(h):m(g)});c=Matter.Query.ray(f,
c,e,d);return c.length?c.map(function(g){return document.getElementById(g.body.elementId)}):[]};b.disablePhysicsCollisions=function(a){b.resolveTargetToNodeList(a).forEach(function(c){if(c=b.getElementProperty(c,"physics-body"))c._collisionFilter||(c._collisionFilter=Object.assign({},c.collisionFilter)),c.collisionFilter={group:-1}})};b.enablePhysicsCollisions=function(a){b.resolveTargetToNodeList(a).forEach(function(c){(c=b.getElementProperty(c,"physics-body"))&&c._collisionFilter&&(c.collisionFilter=
c._collisionFilter,delete c._collisionFilter)})};b.applyForce=function(a,c,e,d){d=d||{};var f,g;a=b.resolveTargetToNodeList(a);var h=Math.cos(e*Math.PI/180),p=Math.sin(e*Math.PI/180);a.forEach(function(n){var l=b.getElementProperty(n,"physics-body");if(l.isStatic)m(n,!0);else{f=d.usePercentOfMass?c/100*l.mass:c;if(d.position)if(d.position.absolute)g=d.position;else if(void 0!=d.position.angle){n=d.position.distance||1;var r=d.position.angle;g={x:l.position.x+Math.cos(r*Math.PI/180)*n,y:l.position.y+
Math.sin(r*Math.PI/180)*n}}else g={x:l.position.x+(d.position.x||0),y:l.position.y+(d.position.y||0)};Matter.Body.applyForce(l,g||l.position,{x:h*f,y:p*f})}})};b.applyForceBasedOnMass=function(a,c,e,d){b.applyForce(a,c,e,Object.assign(d||{},{usePercentOfMass:!0}))};q||(q=!0,k=document.createElement("style"),k.setAttribute("type","text/css"),k.appendChild(document.createTextNode(".disable-pointer-events, .disable-pointer-events * { pointer-events: none !important;}")),document.getElementsByTagName("head")[0].appendChild(k))}});
window.HYPE_eventListeners.push({type:"HypeScenePrepareForDisplay",callback:function(b,k,t){b.enablePointerEvents(k);b.disablePointerEvents("[data-disable-pointer-events], .disablePointerEvents");b.disablePhysicsCollisions("[data-disable-collision], .disableCollisions")}});return{version:"1.0.1"}}());
